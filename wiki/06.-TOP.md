## Limiting the Number of Returned Records Using TOP

The `TOP` clause in SQL Server is used to limit the number of returned records based on a specified number or percentage. This clause is very useful when you need to work with only a limited amount of data, such as when analyzing or presenting the most recent or significant records.

### Using the TOP Clause

- **Limiting to a Fixed Number of Records**: The `TOP` clause allows you to return only the first N records from the result set. This approach is often used when you need to work with a specific number of the largest or smallest values in a table.

- **Limiting to a Percentage of Records**: `TOP` can also be used to return a certain percentage of records from the total result set. This is useful, for example, when analyzing a sample of data.

### Combining with the ORDER BY Clause

The `TOP` clause is often used in combination with `ORDER BY` to determine the order of the records to be returned. For example, if you want to obtain the highest or lowest values, `ORDER BY` determines the order, and `TOP` limits the number of returned records.

### Example of Using TOP

If you have a table with sales records and want to display only the top 5 sales, you can use the `TOP` clause along with `ORDER BY` to sort the records by sales amount in descending order and return only the top 5 records.

### Advantages of Using TOP

- **Performance Improvement**: Limiting the number of returned records can improve query performance, especially with large datasets. SQL Server does not need to process all records, reducing the time and resources needed to execute the query.

- **Efficient Data Processing**: The `TOP` clause allows for quick retrieval of relevant information from large tables, which is useful for generating reports or analyzing data.

Using the `TOP` clause is an effective way to limit the amount of returned data and improve query performance in SQL Server.

```sql
SELECT TOP 5 location, SUM(prcp) as sum_prcp
FROM data_new
GROUP BY location
ORDER BY sum_prcp DESC;
```
