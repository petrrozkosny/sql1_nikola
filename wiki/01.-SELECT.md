## Using the SELECT Command

The `SELECT` command is one of the most commonly used commands in SQL and is used for querying and retrieving data from database tables. Its basic syntax allows you to select specific columns and rows from one or more tables.

### Basic Syntax and Usage

```sql
SELECT YEAR(date) AS year, location, SUM(prcp) AS yearly_prcp
FROM data_new
LEFT JOIN dim_locations ON data_new.location = dim_locations.station
WHERE dim_locations.country = 'Cesko'
GROUP BY YEAR(date), location
HAVING SUM(prcp) > 1000
ORDER BY yearly_prcp DESC
```

- **SELECT**: The keyword that indicates a query to retrieve data.
- **column1, column2, ...**: The list of columns you want to select. You can use an asterisk (`*`) to select all columns from the table.
- **FROM**: The keyword that specifies the table from which to retrieve data.
- **table**: The name of the table from which the data is being selected.
- **JOIN**: (Optional) Clause for combining rows from multiple tables based on a join condition.
- **ON join_condition**: The condition that specifies how the tables should be joined based on common columns.
- **WHERE**: (Optional) Clause that specifies conditions for filtering rows. Only rows that meet this condition will be returned.
- **GROUP BY**: (Optional) Clause that groups rows based on one or more columns. Often used with aggregate functions.
- **HAVING**: (Optional) Clause for filtering grouped rows based on conditions that cannot be used with `WHERE`.
- **ORDER BY**: (Optional) Clause for sorting results by one or more columns in a specified order (ascending `ASC` or descending `DESC`).

#### Execution Order of Commands

- **FROM**: Specifies the table or tables from which to retrieve data.
- **JOIN**: (Optional) Combines rows from multiple tables based on a join condition.
- **WHERE**: (Optional) Specifies conditions for filtering rows. Only rows that meet this condition will be returned.
- **GROUP BY**: (Optional) Groups rows based on one or more columns. Often used with aggregate functions (e.g., COUNT, SUM).
- **HAVING**: (Optional) Filters grouped rows based on conditions that cannot be used with `WHERE`.
- **SELECT**: Specifies the columns to be selected. You can use an asterisk (`*`) to select all columns from the table.
- **ORDER BY**: (Optional) Sorts the results by one or more columns in a specified order (ascending `ASC` or descending `DESC`).

## Using Aliases in SQL Server

An alias is an alternative name that can be assigned to a table or column in an SQL query. An alias makes it easier to read and write queries, especially when working with multiple tables or complex calculations. An alias is defined using the keyword `AS` (which is optional) and is valid only for the duration of the query.

### Alias for Columns

An alias for a column allows you to assign a new name to the output column. This is useful if you want to display more understandable names or if you are performing calculations whose results you want to name. The syntax is as follows:

```sql
SELECT location AS city,prc
FROM data_new
```

### Alias for Tables

An alias for a table is a shorthand that simplifies referring to tables in a query. This is particularly useful when working with multiple tables and using the JOIN clause. The syntax is as follows:

```sql
SELECT dn.date, dn.location, dn.prcp, dl.country
FROM data_new AS dn
JOIN dim_locations AS dl ON dn.location = do.station;
```


## Working with Columns Using Text, Mathematical, and Date Functions

In SQL Server, a wide range of functions is available for manipulating data in columns. These functions can be categorized based on the type of data they work with: text, mathematical, and date.

### Text Functions

- **`LEN()`**: Returns the length of a string (number of characters).
- **`UPPER()` and `LOWER()`**: Converts all characters in a string to uppercase or lowercase.
- **`SUBSTRING()`**: Extracts a substring from a string, starting at a specified position.
- **`REPLACE()`**: Replaces occurrences of a specified text with another text in a string.
- **`TRIM()`**: Removes spaces from both ends of a string.

### Mathematical Functions

- **`ABS()`**: Returns the absolute value of a number.
- **`ROUND()`**: Rounds a number to a specified number of decimal places.
- **`CEILING()` and `FLOOR()`**: Rounds a number up or down to the nearest integer.
- **`POWER()`**: Returns the value of a number raised to a specified power.
- **`SQRT()`**: Calculates the square root of a number.

### Date Functions

- **`GETDATE()`**: Returns the current date and time.
- **`DATEADD()`**: Adds a specified number of time units to a date.
- **`DATEDIFF()`**: Returns the difference between two dates in specified time units.
- **`FORMAT()`**: Formats a date or time according to a specified format.
- **`CONVERT()`**: Converts a date to a different format.

#### Extracting Specific Parts of a Date

- **`YEAR()`**: Extracts the year from a date value.
- **`MONTH()`**: Extracts the month from a date value.
- **`DAY()`**: Extracts the day from a date value.
- **`DATEPART(quarter, date)`**: Returns the quarter (1-4) for a given date.


